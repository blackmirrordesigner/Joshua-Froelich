# Add these location blocks inside your server { } block for cyrusreigns.com
# Protects /admin.html and /assets/js/admin.js. Other pages remain unprotected.

# Admin login page: explicitly unprotected (friendly entry point)
location = /admin-login.html {
    auth_basic off;
}

# Admin panel: protected
location = /admin.html {
    auth_basic "CyrusReigns Admin";
    auth_basic_user_file /etc/nginx/auth/cyrusreigns_admin.htpasswd;
    add_header Cache-Control "no-store";
}

# Admin JS: protected (defense in depth)
location = /assets/js/admin.js {
    auth_basic "CyrusReigns Admin";
    auth_basic_user_file /etc/nginx/auth/cyrusreigns_admin.htpasswd;
    add_header Cache-Control "no-store";
}
